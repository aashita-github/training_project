<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="css/bootstrap.css">
  <link rel="stylesheet" href="css/form.css">

 

  <script>
    //function to print validation messages
    function printError(elemId, hintMsg) {
      document.getElementById(elemId).innerHTML = hintMsg;
    }
//funcion to validate form
    function validateForm() {
     
     
      var name = document.getElementById("userNameInput").value;


      var gender;
      document.getElementsByName("gender").forEach(radio => {
        if (radio.checked) {
          gender = radio.value;
        }
      });
      var webLink = document.getElementById('websiteInput').value;


      var email = document.getElementById('emailInput').value;
      var skills = [];
      document.getElementsByName('lang').forEach(checkbox => {
        if (checkbox.checked) {
          skills.push(checkbox.value);
        }
      });
      image = document.getElementById('imageInput').value;
      var nameErr = emailErr = imageErr = genderErr = langErr =websiteErr= true;
      //Username Validation
      if (name == "") {
        printError("nameErr", "Enter name ");
      } else {
        var regex = /^[a-zA-Z\s]+$/;
        if (regex.test(name) === false) {
          printError("nameErr", "Enter a valid name ");
        } else {
          printError("nameErr", "");
          nameErr = false;
        }
      }
      //Email Validation
      if (email === "") {
        printError("emailErr", "Please enter your email address");
      } else {
        // Regular expression for basic email validation
        var regex = /^\S+@\S+\.\S+$/;
        if (regex.test(email) === false) {
          printError("emailErr", "Please enter a valid email address ");
        } else {
          printError("emailErr", "");
          emailErr = false;
        }
      }
  //image Link validation
      if (image == "") {
        printError("imageErr", "Please enter your image link ");
      }
      else {
        var imgregex =/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/;
    
    if (imgregex.test(image)===false) {
    
      printError("imageErr", "Enter a valid URL ");
    
            
        } 
     else{
        printError("imageErr", "");
        imageErr = false;
        }
      }
//weblink validation
      if (webLink == "") {
        printError("websiteErr", "Please enter a Website link ");
      }
      else {
        var webregex =/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/;
    
        if (webregex.test(webLink)===false) {
          
          printError("websiteErr", "Enter a valid URL ");
                
            } 
            
        else {
              printError("websiteErr", "");
              websiteErr = false;
            }



      }
//gender input Validation
      if (gender == "" || gender == undefined) {
        printError("genderErr", "Please choose your gender ");
      }
      else {
       
        printError("genderErr", "");
        genderErr = false;

      }
  //skills input validation
      if (skills.length == 0) {
        printError("langErr", "Please choose at least one subject ");
      }
      else {
        printError("langErr", "");
        langErr = false;

      }


      if ((nameErr || emailErr || imageErr || genderErr || langErr||websiteErr) == true) {
        return false;
      } else {
        addrow(name, gender, email, webLink, skills, image);
      }
    }

   
//function to insert row in enrolled table
    function addrow(name, gender, email, webLink, skills, image) {
      var x = document.getElementById("tableblock");

      if (x.style.display == "none") {
        x.style.display = "block";
      }
      var x = document.getElementById('tablehead');


      var table = document.getElementById("tablebody");

      var row = table.insertRow(-1);
      

      var cell1 = row.insertCell(0);
      cell1.id="desc";
      var cell2 = row.insertCell(1);
      cell2.id="imagecell";
      cell1.innerHTML = "style:background-color:rgba(235,242,211,255)"
      var wLink='<u>'+webLink+'</u>';
      webLink="https://"+webLink;
      

      cell1.innerHTML = name.bold() + "</br>" + gender + "</br>" + email + "</br>" + wLink.link(webLink) + "</br>" + skills + "</br>";
      
      cell2.innerHTML = '<img class="resize"' + 'src=' +image+'>';


    }

  </script>
</head>


<body>
  <!--header-->
  <header style="background-color:rgba(71,215,171,255);height:60px;padding:15px 15px 0 0;">
    <h3 class="text-center text-capitalize text-white">
      Student Enrollment Form
    </h3>
  </header>

  <div class="container mt-5">
    <div class="row">
      <div class="col-lg-6 offset 6">
        <!--Form begin-->
        <form name="myForm" id="myForm" onsubmit="validateForm">
          <div class="container">
            <div class="form-group row">
              <label for="userNameInput" class="col-sm-3 col-form-label text-left">Name</label>
              <div class="col-sm-6">
                <input type="text" class="form-control" id="userNameInput" required>

              </div>
              <span class="col-sm-3 error" id="nameErr"></span>
            </div>
            <div class="form-group row">
              <label for="emailInput" class="col-sm-3 col-form-label text-left">Email</label>
              <div class="col-sm-6">
                <input type="email" class="form-control" id="emailInput" required>
              </div>
              <span class="col-sm-3 error" id="emailErr"></span>
            </div>
            <div class="form-group row">
              <label for="websiteInput" class="col-sm-3 col-form-label text-left">Website</label>
              <div class="col-sm-6">
                <input type="url" class="form-control" id="websiteInput" pattern="https://.*" size="30" required>
              </div>
              <span class="col-sm-3 error" id="websiteErr"></span>
            </div>
            <div class="form-group row">
              <label for="imageInput" class="col-sm-3 col-form-label text-left">Image Link</label>
              <div class="col-sm-6">
                <input type="url" class="form-control" id="imageInput" required>
              </div>
              <span class="col-sm-3 error" id="imageErr"></span>
            </div>
            <div class="row">
              <div class="col-sm-3 col-form-label text-left">
                <label for="forGender " class=" control-label col-form-label "style="padding-top:0;" id="genderInput">Gender</label>
              </div>
              <div class="col-sm-6">
                <div class="form-check form-check-inline">
                  <input class="form-check-input" name="gender" type="radio" value="Male" id="maleRadio">
                  <label class="form-check-label" for="maleRadio">Male
                  </label>
                </div>
                <div class="form-check ">
                  <input class="form-check-input" name="gender" value="Female" type="radio" id="femaleRadio">
                  <label class="form-check-label" for="femaleRadio">Female
                  </label>
                </div>
              </div>
              <span class="col-sm-3 error" id="genderErr"></span>
            </div>
            <div class="row">
              <div class="col-sm-3 col-form-label text-left"style="padding-top:0">
                <label for="languageInput " class=" control-label col-form-label " style="padding-top:0;"id="skillInput">Skills</label>
              </div>
              <div class="col-sm-6">
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="checkbox" value="JAVA" name='lang' id="javaCheck">
                  <span class="checkmark"></span>
                  <label class="form-check-label" for="javaCheck">JAVA
                  </label>
                </div>
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="checkbox" value="HTML" name='lang' id="htmlCheck">
                  <span class="checkmark"></span>
                  <label class="form-check-label" for="htmlCheck">HTML
                  </label>
                </div>
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="checkbox" value="CSS" name='lang' id="cssCheck">
                  <span class="checkmark"></span>
                  <label class="form-check-label" for="cssCheck">CSS
                  </label>
                </div>
              </div>
              <span class="col-sm-3 error" id="langErr"></span>
            </div>
          </div>
          <!--Buttons to enrol and clear-->
          <div class="row">
            <button type="submit" name="save" id="enrol" onclick="validateForm()"
              class="btn text-center text-white">Enroll Student</button>
            <button type="submit" onclick="this.form.reset()" class="btn text-white "
              style="border-radius:7px;Background-color: rgba(220,40,67,255);margin:0px 20px 0 20px;width: 90px;">Clear</button>
          </div>
        </form>
        <!--Form ends-->
      </div>
<!--Vertical line dividing webpage-->
      <div class="vertical" id="demo"
        style="height: 390px; border-left: 2px solid rgba(71,215,171,255); position: absolute;left: 50%;">
      </div>

<!--Right section of webpage-->
      <div class="col-lg-6">
        <h4 class="text-capitalize text-center" style="margin-top:0"><b>Enrolled Students</b></h4>
        <div class="container">
          <!--Enrolled-Table-->
          <div id="tableblock" style="display: none;">
            <table class="table table-bordered" id="enroltable">
              <thead id='tablehead' style="width:123%;background-color: rgba(167,201,65,255);
            color:white;">
                <tr style="width: 123%;">
                  <th style="width:70%;">Description</th>
                  <th style="width:30%">Image</th>
                </tr>
              </thead>
              <tbody id="tablebody">

              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!--Footer-->
  <footer id="footer" style="background-color:rgba(71,215,171,255);margin-bottom: 0%;">
    <div class="container">
      <h6 class="text-center text-capitalize text-white">
        &copy;copyright 2020-2021 by fresher training
      </h6>
    </div>
  </footer>

</body>

</html>