package com.nagarro.csv;

import java.io.File;
import java.io.FileFilter;
import java.io.IOException;
import java.util.concurrent.Executors;
import java.util.concurrent.ScheduledExecutorService;
import java.util.concurrent.TimeUnit;

import com.nagarro.constants.FinalValues;

public class LoadCSV {
	File[] f = null;
	public File[] load() {
		
		ScheduledExecutorService executor = Executors.newScheduledThreadPool(1);
		
		Runnable task = () -> {
		FileFilter filter = (File pathname) -> pathname.getName().endsWith(".csv");
		File dir = new File(FinalValues.PATH);
		File[] files = dir.listFiles(filter);
		f=files;
		};
		executor.scheduleWithFixedDelay(task, 0, 1, TimeUnit.MINUTES);
		return f;
		
	}
}
